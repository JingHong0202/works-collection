(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"1a52":function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"waterfalls-box",style:{height:t.height+"px"}},t._l(t.list,(function(e,n){return r("v-uni-view",{key:e[t.idKey],ref:"waterfalls-list-id-"+e[t.idKey],refInFor:!0,staticClass:"waterfalls-list",style:Object.assign({},{"--offset":t.offset+"px","--cols":t.cols},t.listStyle,t.allPositionArr[n]||{}),attrs:{id:"waterfalls-list-id-"+e[t.idKey]},on:{click:function(r){arguments[0]=r=t.$handleEvent(r),t.$emit("wapper-click",e)}}},[r("v-uni-image",{staticClass:"waterfalls-list-image",class:{single:t.single},style:t.imageStyle,attrs:{mode:"widthFix",src:"image"===e.works.fileType?e.works.url:e.works.url+"?x-oss-process=video/snapshot,t_1000,m_fast"},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoadHandle(n)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoadHandle(n)},click:function(r){arguments[0]=r=t.$handleEvent(r),t.$emit("image-click",e._id,e.user_id[0]._id)}}}),t._t("default",null,null,e)],2)})),1)},i=[]},"1cf0":function(t,e,r){var n=r("66d0");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("4f06").default;a("0c48cbc5",n,!0,{sourceMap:!1,shadowMode:!1})},"28dc":function(t,e,r){"use strict";r.r(e);var n=r("3d17"),a=r("416b");for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("3d24");var s,l=r("f0c5"),o=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"7a2626d7",null,!1,n["a"],s);e["default"]=o.exports},"3d17":function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"detail"},[t.list.length?r("waterfallsFlow",{attrs:{list:t.list,imageSrcKey:"url"},on:{"image-click":function(e){arguments[0]=e=t.$handleEvent(e),t.imageClick.apply(void 0,arguments)}}}):t._e()],1)},i=[]},"3d24":function(t,e,r){"use strict";var n=r("1cf0"),a=r.n(n);a.a},"416b":function(t,e,r){"use strict";r.r(e);var n=r("ff85"),a=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},"57cd":function(t,e,r){"use strict";var n=r("8961"),a=r.n(n);a.a},"66d0":function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.detail[data-v-7a2626d7]{padding:%?10?%}.detail-item[data-v-7a2626d7]{position:absolute;right:%?10?%;bottom:%?10?%}',""]),t.exports=e},"76c1":function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.waterfalls-box[data-v-5518839a]{position:relative;width:100%;overflow:auto}.waterfalls-box .c-video[data-v-5518839a]{width:%?200?%;height:%?200?%}.waterfalls-box .waterfalls-list[data-v-5518839a]{width:calc((100% - var(--offset) * (var(--cols) - 1)) / var(--cols));position:absolute;background-color:#fff;border-radius:6px;left:calc(-50% - var(--offset))}.waterfalls-box .waterfalls-list .waterfalls-list-image[data-v-5518839a]{width:100%;will-change:transform;border-radius:6px 6px 0 0;display:block}.waterfalls-box .waterfalls-list .waterfalls-list-image.single[data-v-5518839a]{border-radius:6px}',""]),t.exports=e},8961:function(t,e,r){var n=r("76c1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("4f06").default;a("a8405668",n,!0,{sourceMap:!1,shadowMode:!1})},b084:function(t,e,r){"use strict";r.r(e);var n=r("e525"),a=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},d5a7:function(t,e,r){"use strict";r.r(e);var n=r("1a52"),a=r("b084");for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("57cd");var s,l=r("f0c5"),o=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"5518839a",null,!1,n["a"],s);e["default"]=o.exports},e525:function(t,e,r){"use strict";var n=r("4ea4");r("c975"),r("4e82"),r("a9e3"),r("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r("2909")),i={props:{list:{type:Array,required:!0},offset:{type:Number,default:10},idKey:{type:String,default:"_id"},imageSrcKey:{type:String,default:"image_url"},cols:{type:Number,default:2,validator:function(t){return t>=2}},imageStyle:{type:Object},single:{type:Boolean,default:!1},listStyle:{type:Object}},data:function(){return{topArr:[],allPositionArr:[],allHeightArr:[],height:0,oldNum:0,num:0}},created:function(){this.refresh()},methods:{imageLoadHandle:function(t){var e=this,r="waterfalls-list-id-"+this.list[t][this.idKey],n=uni.createSelectorQuery().in(this);n.select("#"+r).fields({size:!0},(function(r){if(e.num++,e.$set(e.allHeightArr,t,r.height),e.num===e.list.length){for(var n=e.oldNum;n<e.num;n++){var i=function(){var t=(0,a.default)(e.topArr).sort((function(t,e){return t-e}));return{shorterIndex:e.topArr.indexOf(t[0]),shorterValue:t[0],longerIndex:e.topArr.indexOf(t[e.cols-1]),longerValue:t[e.cols-1]}},s=i(),l=s.shorterIndex,o=s.shorterValue,u={top:o+"px",left:(r.width+e.offset)*l+"px"};e.$set(e.allPositionArr,n,u),e.topArr[l]=o+e.allHeightArr[n]+e.offset,e.height=i().longerValue-e.offset}e.oldNum=e.num,e.$emit("image-load")}})).exec()},refresh:function(){for(var t=[],e=0;e<this.cols;e++)t.push(0);this.topArr=t,this.num=0,this.oldNum=0,this.height=0}}};e.default=i},ff85:function(t,e,r){"use strict";(function(t){var n=r("4ea4");r("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("96cf");var a=n(r("1da1")),i=n(r("d5a7")),s=t.database(),l={components:{waterfallsFlow:i.default},data:function(){return{list:[]}},methods:{imageClick:function(t,e){uni.navigateTo({url:"/pages/preview/preview?index=".concat(t,"&user_id=").concat(e)})}},onLoad:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.id,uni.showLoading({title:"加载中...",mask:!0}),r.next=4,s.collection("works-collection,uni-id-users").where('status == 1 && user_id._id == "'.concat(n,'"')).field("works,desc,star,user_id,link,user_id{username,avatar}").get();case 4:return a=r.sent,i=a.result,r.t0=uni,r.next=9,s.collection("uni-id-users").doc(n).field("username").get({getOne:!0});case 9:r.t1=r.sent.result.data.username,r.t2=r.t1+"的作品集",r.t3={title:r.t2},r.t0.setNavigationBarTitle.call(r.t0,r.t3),e.list=i.data,e.$nextTick((function(){uni.hideLoading()}));case 15:case"end":return r.stop()}}),r)})))()}};e.default=l}).call(this,r("a9ff")["default"])}}]);